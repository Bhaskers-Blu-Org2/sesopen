<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Blocking delay</title>
</head>
<body>
    <div id="mydiv">Blocking delay</div>
    <script>
        function getParameterByName(name) {
            name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
            var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                results = regex.exec(location.search);
            return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
        }
        
        xmlhttp = new XMLHttpRequest();

        var delay = getParameterByName('a');

        // open(url, false) causes the request to block page completion until the call returns
        xmlhttp.open("GET", "delay.aspx?a=" + delay, false);
        xmlhttp.send();
        document.write(xmlhttp.responseText);

    </script>
</body>
</html>
